<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>{% block title %}Dashboard{% endblock %}</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #a3afdd;
    margin: 0;
    padding: 0;
    
  }

  /* Navbar */
  nav {
    background-color: #2c3e50;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    position: relative;
  }
  .logo { font-size: 22px; font-weight: bold; }
  nav ul {
    list-style: none;
    display: flex;
    gap: 20px;
    margin: 0;
    padding: 0;
  }
  .logo a{
    color:white;
    text-decoration:none;
  }
  
  nav ul li a {
    color: white;
    text-decoration: none;
    font-weight: bold;
  }
  nav ul li a:hover { color: #81e9d7; }
  .logout {
    background-color: #e62510;
    color: white;
    padding: 8px 15px;
    border-radius: 5px;
    text-decoration: none;
  }
  .logout:hover { background-color: #c0392b; }

  /* Toggle Menu */
  .menu-toggle { display: none; flex-direction: column; cursor: pointer; }
  .menu-toggle div { width: 25px; height: 3px; background-color: white; margin: 4px 0; transition: 0.3s; }

  /* Page container with grid */
  .container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    padding: 100px 100px 50px 100px;
    align-items: center;
  }

  .info-box h2 { font-size: 28px; margin-bottom: 15px; color: #2c3e50; }
  .info-box p { font-size: 16px; line-height: 1.6; color: #2c3e50; }

  .image-slider { display: flex; justify-content: center; align-items: center; }
  .image-slider img {
    width: 100%;
    max-width: 400px;
    height: 300px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    object-fit: cover;
    transition: opacity 0.5s ease;
  }

  footer {
    background-color: #2c3e50;
    color: white;
    text-align: center;
    padding: 10px;
    position: fixed;
    bottom: 0;
    width: 100%;
  }

  /* Responsive */
  @media (max-width: 900px) {
    .container { grid-template-columns: 1fr; padding: 60px 30px; text-align: center; }
    .image-slider img { width: 90%; height: auto; margin: 0 auto; }
    .info-box { margin-bottom: 30px; padding: 0; }
  }

  @media (max-width: 768px) {
    nav ul {
      flex-direction: column;
      background-color: #2c3e50;
      position: absolute;
      top: 60px;
      right: 0;
      width: 200px;
      text-align: right;
      display: none;
    }
    nav ul.active { display: flex; }
    .menu-toggle { display: flex; }
    nav ul li a { padding: 10px 20px; display: block; }
  }
</style>
</head>
<body>
<nav>
  <div class="logo"><a href="{{ url_for('admin.home')}}"> üè´ School Management</a></div>
  <div class="menu-toggle" id="menu-toggle"><div></div><div></div><div></div></div>

  {% if role == "Admin" %}
  <ul id="navbar">
    <li><a href="{{ url_for('admin.add_student') }}">Students</a></li>
    <li><a href="{{ url_for('admin.teacher') }}">Teachers</a></li>
    <li><a href="{{ url_for('admin.add_subjects_form') }}">Subjects</a></li>
    <li><a href="{{ url_for('admin.attendance') }}">Attendance</a></li>
    <li><a href="{{ url_for('auth.logout') }}" class="logout">Logout</a></li>
  </ul>
  {% elif role == "Teacher" %}
  <ul id="navbar">
    <li><a href="{{ url_for('admin.add_student') }}">Students</a></li>
    <li><a href="{{ url_for('admin.add_subjects_form') }}">Subjects</a></li>
    <li><a href="{{ url_for('admin.attendance') }}">Attendance</a></li>
    <li><a href="{{ url_for('auth.logout') }}" class="logout">Logout</a></li>
  </ul>
  {% elif role == "Student" %}
  <ul id="navbar">
    <li><a href="{{ url_for('admin.add_subjects_form') }}">Subjects</a></li>
    <li><a href="{{ url_for('admin.attendance') }}">Attendance</a></li>
    <li><a href="{{ url_for('auth.logout') }}" class="logout">Logout</a></li>
  </ul>
  {% endif %}
</nav>

{%block content%}

<div class="container">
  <div class="info-box">
    {% if role == "Admin" %}
    <h2>Welcome,{{ session['name'] }} üë©‚Äçüíº</h2>
    <p><h3>As the Admin, manage students, teachers, subjects, and attendance efficiently.</h3</p>
    {% elif role == "Teacher" %}
    <h2>Welcome, {{ session['name'] }} üë®‚Äçüè´</h2>
    <p>As a Teacher, manage your classes, students, and subjects efficiently.</p>
    {% elif role == "Student" %}
    <h2>Welcome, {{ session['name'] }} üéì</h2>
    <p>As a Student, view subjects, track attendance, and stay updated.</p>
    {% endif %}
  </div>
  <div class="image-slider">
    <img id="slider" src="" alt="Dashboard Image" />
  </div>
</div>
{%endblock%}
<footer>¬© 2025 School Management System | Developed by ASstide</footer>

<script>
  // Toggle menu
  const toggle = document.getElementById('menu-toggle');
  const navbar = document.getElementById('navbar');
  toggle.addEventListener('click', () => { navbar.classList.toggle('active'); });

  // Image slider
  const role = "{{ role }}";
  let images = [];

  if(role === "Admin"){
    images = ["{{ url_for('static',filename='admin.jpg') }}","{{ url_for('static',filename='admin1.jpeg') }}","{{ url_for('static',filename='admin2.webp') }}"];
  } else if(role === "Teacher"){
    images = ["{{ url_for('static',filename='teacher.png') }}","{{ url_for('static',filename='teacher1.jpeg') }}","{{ url_for('static',filename='teacher3.jpg') }}"];
  } else if(role === "Student"){
    images = ["{{ url_for('static',filename='student1.jpg') }}","{{ url_for('static',filename='student.png') }}","{{ url_for('static',filename='student3.jpg') }}"];
  }

  let index = 0;
  const slider = document.getElementById("slider");
  slider.src = images[index];

  setInterval(()=>{
    index = (index+1) % images.length;
    slider.style.opacity = 0;
    setTimeout(()=>{slider.src = images[index]; slider.style.opacity = 1;}, 500);
  }, 3000);
</script>
</body>
</html>
